webpackJsonp([28],{mGjh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{modal:!1,name:"",soltNameLen:"最多可输入100个字符",descString:'常用语法规则：(1)声明参数：var 参数名:数据类型=0或1; //参数含义说明数据类型包括media(图片或flash)、link(点击链接)、text(文本)、number(数值)0或1表示是否必填，0为选填，1为必填例如，var imglink:link=1;//图片点击链接(2)引用参数：${参数名};例如：<a href="${imglink}" target="_blank">...</a>',isAtive:!1,descString2:'常用语法规则：(1)声明参数：var 参数名:数据类型=0或1; //参数含义说明数据类型包括media(图片或flash)、link(点击链接)、text(文本)、number(数值)0或1表示是否必填，0为选填，1为必填例如，var imglink:link=1;//图片点击链接(2)引用参数：${参数名};例如：<a href="${imglink}" target="_blank">...</a>',isAtiveCf:!1,materialTemplateId:"",valueTextarea:"",materialName:"",templateName:"",templateCodeArea:"",materialTemplateName:"",materialTemplateCode:"",templateDesc:"",code:"",desc:""}},created:function(){},methods:{beforeLoad:function(){this.descString=this.descString2,this.isAtiveCf=!1,this.materialName="",this.code="",this.desc="",this.modal=!0},cancel:function(){this.descString=this.descString2,this.isAtiveCf=!1,this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.modal=!1},getMaterialTemplateById:function(t){var e=this,a="/materialTemplate/getMaterialTemplateById.json?materialTemplateId="+t;this.$Http.get(a,{}).then(function(t){if(0==t.body.status){console.log(t.body.data);var a=t.body.data;e.materialTemplateId=a.fxAdMaterialTemplateId,e.templateName=a.materialTemplateName,e.templateDesc=a.materialTemplateDesc,e.templateCodeArea=a.materialTemplateCode}})},updateMaterialTemplate:function(){var t=this,e=encodeURIComponent(this.templateCodeArea);this.$Http.post("/materialTemplate/updateMaterialTemplate.json?",{materialTemplateCode:e,materialTemplateId:this.materialTemplateId,materialTemplateName:this.templateName,materialTemplateDesc:this.templateDesc}).then(function(e){console.log(e),0==e.body.status?(t.modal=!1,t.$emit("filterParent")):t.modal=!0})},onFocusName:function(){this.soltNameLen="最多可输入100个字符",this.isAtive=!1},userDataNum:function(){if(this.templateName){null==this.templateName.match(/^[\s\S]{1,100}$/)&&(this.soltNameLen="长度超过一百个字符",this.isAtive=!0)}else this.soltNameLen="物料名称不能为空",this.isAtive=!0},blurVal:function(){var t=this.templateCodeArea.match(/<fx168start>/),e=this.templateCodeArea.match(/<fx168end>/);console.log(t+"===="+e),this.templateCodeArea?"<fx168start>"==t&&"<fx168end>"==e?(this.descString=this.descString2,this.isAtiveCf=!1):(this.descString="您输入的模板代码中不包含<fx168start>、<fx168end>，请重新输入",this.isAtiveCf=!0):(this.descString="模板代码不能为空",this.isAtiveCf=!0)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"修改物料模板",styles:{width:"100%"},"class-name":"modal-box"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"master-content"},[a("div",{staticClass:"row"},[a("label",[t._v("物料模板名称：")]),t._v(" "),a("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"templateName",placeholder:"请输入模板名称"},on:{"on-blur":t.userDataNum,"on-focus":t.onFocusName},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}},[t._v(t._s(t.materialName))]),t._v(" "),a("span",{staticClass:"label-right",class:{"label-right-active":t.isAtive}},[t._v(t._s(t.soltNameLen))])],1),t._v(" "),a("div",{staticClass:"row"},[a("label",[t._v("代码：")]),t._v(" "),a("Input",{staticStyle:{width:"300px",height:"200px"},attrs:{type:"textarea",rows:8,placeholder:"请输入模板代码"},on:{"on-blur":t.blurVal},model:{value:t.templateCodeArea,callback:function(e){t.templateCodeArea=e},expression:"templateCodeArea"}}),t._v(" "),a("span",{staticClass:"label-right",class:{"label-right-active":t.isAtiveCf},staticStyle:{width:"300px",display:"inline-block"}},[t._v(t._s(t.descString))])],1),t._v(" "),a("div",{staticClass:"row"},[a("label",[t._v("说明：")]),t._v(" "),a("Input",{staticStyle:{width:"300px",height:"100px"},attrs:{type:"textarea",rows:8,placeholder:"(选填)"},model:{value:t.templateDesc,callback:function(e){t.templateDesc=e},expression:"templateDesc"}})],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:t.updateMaterialTemplate}},[t._v("修改")])],1)])],1)},staticRenderFns:[]};var s=a("vSla")(l,i,!1,function(t){a("yEIq")},"data-v-0881ad16",null);e.default=s.exports},yEIq:function(t,e){}});
//# sourceMappingURL=28.e7f451f1d735b214cd48.js.map