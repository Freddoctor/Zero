webpackJsonp([7,21,23],{"/ok9":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{customName:"",customDesc:"",customId:"",modal:!1,isAtive:!1,soltNameLen:"最多可输入100个字符",invalidDesc:!1,invalidDescTip:"最多可输入100个字符"}},created:function(){},methods:{beforeLoad:function(){this.customName="",this.customDesc="",this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.invalidDesc=!1,this.invalidDescTip="最多可输入100个字符",this.modal=!0},cancel:function(){this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.invalidDesc=!1,this.invalidDescTip="最多可输入100个字符",this.modal=!1},getCustom:function(t){var s=this;this.customId=t;var e="/custom/getCustomById.json?customId="+this.customId;this.$Http.get(e,{}).then(function(t){if(0==t.body.status){var e=t.body.data;s.customName=e.customName,s.customDesc=e.customDesc,s.modal=!0}})},updateCustom:function(){var t=this;if(this.invalidDesc||this.isAtive)return!1;var s="/custom/updateCustom.json?customId="+this.customId+"&customDesc="+encodeURIComponent(this.customDesc)+"&customName="+encodeURIComponent(this.customName);this.$Http.get(s,{}).then(function(s){0==s.body.status&&(t.modal=!1,t.$emit("filterParent"))})},onFocusName:function(){this.soltNameLen="最多可输入100个字符",this.isAtive=!1},focusDesc:function(){this.invalidDesc=!1,this.invalidDescTip="最多可输入100个字符"},userDataNum:function(){if(this.customName){null==this.customName.match(/^[\s\S]{1,100}$/)&&(this.soltNameLen="长度超过100个字符",this.isAtive=!0)}else this.soltNameLen="物料名称不能为空",this.isAtive=!0},checkDesc:function(){if(""!=this.customDesc){null==this.customDesc.match(/^[\s\S]{0,100}$/)&&(this.invalidDescTip="长度超过100个字符",this.invalidDesc=!0)}}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Modal",{attrs:{title:"修改客户",styles:{width:"100%"},"class-name":"modal-box"},model:{value:t.modal,callback:function(s){t.modal=s},expression:"modal"}},[e("div",{staticClass:"master-content"},[e("div",{staticClass:"row"},[e("label",[t._v("公司名称:")]),t._v(" "),e("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"customName",placeholder:""},on:{"on-blur":t.userDataNum,"on-focus":t.onFocusName},model:{value:t.customName,callback:function(s){t.customName=s},expression:"customName"}}),t._v(" "),e("span",{staticClass:"label-right",class:{"label-right-active":t.isAtive}},[t._v(t._s(t.soltNameLen))])],1),t._v(" "),e("div",{staticClass:"row"},[e("label",[t._v("说明:")]),t._v(" "),e("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:10,placeholder:"选填"},on:{"on-blur":t.checkDesc,"on-focus":t.focusDesc},model:{value:t.customDesc,callback:function(s){t.customDesc=s},expression:"customDesc"}}),t._v(" "),e("span",{staticClass:"label-right",class:{"label-right-active":t.invalidDesc}},[t._v(t._s(t.invalidDescTip))])],1)]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:t.updateCustom}},[t._v("确定修改")])],1)])],1)},staticRenderFns:[]};var i=e("vSla")(a,o,!1,function(t){e("5cxD")},"data-v-227b6dc8",null);s.default=i.exports},"5cxD":function(t,s){},LyLh:function(t,s){},Ncv5:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("HzJ8"),o=e.n(a),i=(e("KYCO"),e("Ldyx")),n=e("/ok9"),c=e("VRoW"),l={data:function(){var t=this;return{isShow:!1,customName:"",customStatus:"-99",isAdds:!0,isDeletes:!0,addCustomParams:[],deleteCustomParams:[],totalCount:0,pageNo:1,pageSize:10,loading:!0,customColumns:[{type:"selection",width:60,align:"center"},{title:"公司名称",key:"customName"},{title:"状态",key:"customStatus"},{title:"说明",key:"customDesc"},{title:"操作",key:"customAction",width:150,align:"center",render:function(s,e){if(console.log(e),0!=e.row.customStatusNum)return s("div",[s("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",backgroundColor:"#1fa2fd",borderColor:"#1fa2fd"},on:{click:function(){t.$refs.updateCustomer.beforeLoad(),t.$refs.updateCustomer.getCustom(e.row.customId)}}},"修改"),s("Button",{props:{type:"error",size:"small"},style:{backgroundColor:"#ea0b00",borderColor:"#ea0b00"},on:{click:function(){var s=[];s.push(e.row),t.deleteBox(s)}}},"删除")])}}],customData:[]}},created:function(){this.getCustomData()},methods:{selectData:function(t){var s=t.filter(function(t){return 1==t.customStatusNum}),e=t.filter(function(t){return 0==t.customStatusNum});this.isAdds=!e.length>0,this.addCustomParams=e,this.isDeletes=!s.length>0,this.deleteCustomParams=s},addAll:function(t){this.addBox(this.addCustomParams)},deleteAll:function(){this.deleteBox(this.deleteCustomParams)},createNewCustom:function(){this.$refs.newCustomer.beforeLoad()},trigger:function(){this.isShow=!this.isShow},addBox:function(t){var s=this;console.log(t);var e=t.map(function(t,s){return t.customName}),a=t.map(function(t,s){return t.customId});this.$Modal.confirm({title:"启用公司",content:"你确定要启用"+e.join(","),onOk:function(){s.addCustomData(a.join(","))}})},deleteBox:function(t){var s=this;console.log(t);var e=t.map(function(t,s){return t.customName}),a=t.map(function(t,s){return t.customId});this.$Modal.confirm({title:"删除公司",content:"你确定要删除"+e.join(","),onOk:function(){s.deleteCustomData(a.join(",")),console.log(a.join(","))}})},addCustomData:function(t){var s=this,e="/custom/enableCustom.json?customId="+t;this.$Http.get(e,{}).then(function(t){s.$Message.info("启用公司成功!"),s.getCustomData()})},deleteCustomData:function(t){var s=this,e="/custom/deleteCustom.json?customId="+t;this.$Http.get(e,{}).then(function(t){s.$Message.info("删除公司成功!"),s.getCustomData()})},getCustomData:function(){var t=this;this.isAdds=!0,this.isDeletes=!0,this.addCustomParams=[],this.deleteCustomParams=[];var s=this.customName,e=this.customStatus,a="/custom/getCustomList.json?nameLike="+encodeURIComponent(s)+"&status="+e+"&pageNo="+this.pageNo+"&pageSize="+this.pageSize;this.$Http.get(a,{}).then(function(s){if(0===s.body.status){t.loading=!1;var e=s.body.data.result;t.customData=[];var a=!0,i=!1,n=void 0;try{for(var c,l=o()(e);!(a=(c=l.next()).done);a=!0){var u=c.value,m={};m.customName=u.customName,m.customStatusNum=u.customStatus,m.customStatus=0==u.customStatus?"删除":"启用",m.customDesc=u.customDesc,m.customId=u.fxAdCustomId,t.customData.push(m)}}catch(t){i=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw n}}t.totalCount=s.body.data.totalCount}})},changePageNo:function(t){this.loading=!0,this.pageNo=t,this.getCustomData()},changePageSize:function(t){this.pageNo=1,this.pageSize=t,this.getCustomData()},getFilterData:function(){this.loading=!0,this.getCustomData()}},components:{topTitle:i.a,newCustomer:c.default,updateCustomer:n.default}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("top-title",{attrs:{title:"客户管理",isShowClose:"false"}}),t._v(" "),e("div",{staticClass:"master-content"},[e("div",{staticClass:"master-content-nav"},[e("div",{staticClass:"l"},[e("Button",{staticClass:"btnColor",attrs:{icon:"plus",type:"primary"},on:{click:t.createNewCustom}},[t._v("新建公司")]),t._v(" "),e("Button",{staticClass:"btnStart",attrs:{type:"primary",disabled:t.isAdds},on:{click:t.addAll}},[t._v("启用")]),t._v(" "),e("Button",{staticClass:"btnCancel",attrs:{type:"primary",disabled:t.isDeletes},on:{click:t.deleteAll}},[t._v("删除")]),t._v(" "),e("Button",{attrs:{type:"text"},on:{click:t.trigger}},[t._v("筛选  "),e("Icon",{attrs:{type:"arrow-down-b"}})],1)],1),t._v(" "),e("div",{staticClass:"r"},[e("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入公司名称或说明"},model:{value:t.customName,callback:function(s){t.customName=s},expression:"customName"}}),t._v(" "),e("Button",{staticClass:"btnColor",attrs:{type:"primary",icon:"search"},on:{click:t.getFilterData}},[t._v("搜索")])],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"master-content-middle"},[e("div",{staticClass:"label"},[t._v("\n        状态：\n      ")]),t._v(" "),e("div",{staticClass:"label-value",attrs:{id:"filterForm"}},[e("Select",{staticStyle:{width:"200px"},on:{"on-change":t.getFilterData},model:{value:t.customStatus,callback:function(s){t.customStatus=s},expression:"customStatus"}},[e("Option",{attrs:{value:"-99"}},[t._v("全部")]),t._v(" "),e("Option",{attrs:{value:"1"}},[t._v("启用")]),t._v(" "),e("Option",{attrs:{value:"0"}},[t._v("删除")])],1)],1)]),t._v(" "),e("div",{staticClass:"master-content-content",staticStyle:{"margin-top":"10px"}},[e("Table",{ref:"selection",attrs:{border:"",columns:t.customColumns,loading:t.loading,data:t.customData},on:{"on-selection-change":t.selectData}}),t._v(" "),e("Page",{attrs:{total:t.totalCount,current:t.pageNo,"show-sizer":"","show-total":""},on:{"on-change":t.changePageNo,"on-page-size-change":t.changePageSize}})],1)]),t._v(" "),e("new-customer",{ref:"newCustomer",on:{filterParent:t.getFilterData}}),t._v(" "),e("update-customer",{ref:"updateCustomer",on:{filterParent:t.getFilterData}})],1)},staticRenderFns:[]};var m=e("vSla")(l,u,!1,function(t){e("w44C")},null,null);s.default=m.exports},VRoW:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{customName:"",customDesc:"",isAtive:!1,soltNameLen:"最多可输入100个字符",invalidDesc:!1,invalidDescTip:"最多可输入100个字符",modal:!1}},methods:{beforeLoad:function(){this.customName="",this.customDesc="",this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.invalidDesc=!1,this.invalidDescTip="最多可输入100个字符",this.modal=!0},cancel:function(){this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.invalidDesc=!1,this.invalidDescTip="最多可输入100个字符",this.modal=!1},createNewCustom:function(){var t=this;if(this.invalidDesc||this.isAtive)return!1;var s="/custom/createCustom.json?customName="+encodeURIComponent(this.customName)+"&customDesc="+encodeURIComponent(this.customDesc);this.$Http.get(s,{}).then(function(s){0==s.body.status&&(t.modal=!1,t.$emit("filterParent"))})},onFocusName:function(){this.soltNameLen="最多可输入100个字符",this.isAtive=!1},focusDesc:function(){this.invalidDesc=!1,this.invalidDescTip="最多可输入100个字符"},userDataNum:function(){if(""!=this.customName){null==this.customName.match(/^[\s\S]{1,100}$/)&&(this.soltNameLen="长度超过100个字符",this.isAtive=!0)}else this.soltNameLen="公司名称不能为空",this.isAtive=!0},checkDesc:function(){if(""!=this.customDesc){null==this.customDesc.match(/^[\s\S]{0,100}$/)&&(this.invalidDescTip="长度超过100个字符",this.invalidDesc=!0)}}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Modal",{attrs:{title:"新建客户",styles:{width:"100%"},"class-name":"modal-box"},model:{value:t.modal,callback:function(s){t.modal=s},expression:"modal"}},[e("div",{staticClass:"master-content"},[e("div",{staticClass:"row"},[e("label",[t._v("公司名称:")]),t._v(" "),e("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"customName",placeholder:""},on:{"on-blur":t.userDataNum,"on-focus":t.onFocusName},model:{value:t.customName,callback:function(s){t.customName=s},expression:"customName"}}),t._v(" "),e("span",{staticClass:"label-right",class:{"label-right-active":t.isAtive}},[t._v(t._s(t.soltNameLen))])],1),t._v(" "),e("div",{staticClass:"row"},[e("label",[t._v("说明:")]),t._v(" "),e("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:10,placeholder:"选填"},on:{"on-blur":t.checkDesc,"on-focus":t.focusDesc},model:{value:t.customDesc,callback:function(s){t.customDesc=s},expression:"customDesc"}}),t._v(" "),e("span",{staticClass:"label-right",class:{"label-right-active":t.invalidDesc}},[t._v(t._s(t.invalidDescTip))])],1)]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:t.createNewCustom}},[t._v("新建客户")])],1)])],1)},staticRenderFns:[]};var i=e("vSla")(a,o,!1,function(t){e("LyLh")},"data-v-1ebcdcb2",null);s.default=i.exports},w44C:function(t,s){}});
//# sourceMappingURL=7.f56a3737843ad1a07d70.js.map