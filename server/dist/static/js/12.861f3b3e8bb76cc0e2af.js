webpackJsonp([12],{"556g":function(e,t){},"JTp+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),o=a.n(i),l=a("Ldyx"),r=a("0pSy"),s=a("FIuF"),n=a("nOjy"),d=a("6VRH"),c=a("sGZv"),u=a("hj74"),h=a("dpB6"),p=a("aKkb"),v=a("sAmS"),m={components:{topTitle:l.a,newFx168Material:r.default,updateFx168Material:n.a,updateBeiyeMaterial:d.a,newNoNative:c.a,showFx168Material:u.a,showBeiyeMaterial:h.a,updataNonative:p.a,showNonative:v.a,newBeiyeMaterial:s.a},data:function(){var e,t=this;return e={adModel:"",sxIcon:"chevron-down",nameLike:"",status:1,isNative:"",fxAdDeliverId:"",pageSize:10,pageNo:1,deliverListPageNo:1,deliverListTotalPages:1,textLoadMore:"加载更多",isShow:!1,disabled:!0,loading:!0,modal2:!1,modal3:!1,isAdds:!0,isDeletes:!0},o()(e,"pageNo",1),o()(e,"totalCount",0),o()(e,"materialId",""),o()(e,"addMateriaTempParams",[]),o()(e,"deleteMateriaTempParams",[]),o()(e,"data",[]),o()(e,"deliverList",[]),o()(e,"columns",[{type:"selection",width:60,align:"center"},{title:"广告物料名称",key:"materialTemplateName"},{title:"物料ID",key:"materialId"},{title:"尺寸",key:"materialSize"},{title:"载体类型",key:"type"},{title:"操作",key:"operation",width:220,align:"center",render:function(e,a){return 0==a.row.materialStatus?(e("div"),[e("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px",backgroundColor:"#19be6b",borderColor:"#19be6b"},on:{click:function(){0===a.row.isNative?(t.$refs.updataNonative.beforeLoad(a.row.materialStatus,1),t.$refs.updataNonative.getMaterialById(a.row.materialId)):0===a.row.sourceFrom?(t.$refs.updateFx168Material.beforeLoad(a.row.materialStatus,1),t.$refs.updateFx168Material.getMaterialById(a.row.materialId)):1===a.row.sourceFrom&&(t.$refs.updateBeiyeMaterial.beforeLoad(a.row.materialStatus,1),t.$refs.updateBeiyeMaterial.getMaterialById(a.row.materialId))}}},"复制"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",backgroundColor:"#0676c4",borderColor:"#0676c4"},on:{click:function(){t.modal2=!1,0===a.row.isNative?(t.$refs.showNonative.beforeLoad(),t.$refs.showNonative.getMaterialById(a.row.materialId)):0===a.row.sourceFrom?(t.$refs.showFx168Material.beforeLoad(),t.$refs.showFx168Material.getMaterialById(a.row.materialId)):1===a.row.sourceFrom&&(t.$refs.showBeiyeMaterial.beforeLoad(),t.$refs.showBeiyeMaterial.getMaterialById(a.row.materialId))}}},"查看")]):(e("div"),[e("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px",backgroundColor:"#19be6b",borderColor:"#19be6b"},on:{click:function(){0===a.row.isNative?(t.$refs.updataNonative.beforeLoad(a.row.materialStatus,1),t.$refs.updataNonative.getMaterialById(a.row.materialId)):0===a.row.sourceFrom?(t.$refs.updateFx168Material.beforeLoad(a.row.materialStatus,1),t.$refs.updateFx168Material.getMaterialById(a.row.materialId)):1===a.row.sourceFrom&&(t.$refs.updateBeiyeMaterial.beforeLoad(a.row.materialStatus,1),t.$refs.updateBeiyeMaterial.getMaterialById(a.row.materialId))}}},"复制"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",backgroundColor:"#0676c4",borderColor:"#0676c4"},on:{click:function(){t.modal2=!1,0===a.row.isNative?(t.$refs.showNonative.beforeLoad(),t.$refs.showNonative.getMaterialById(a.row.materialId)):0===a.row.sourceFrom?(t.$refs.showFx168Material.beforeLoad(),t.$refs.showFx168Material.getMaterialById(a.row.materialId)):1===a.row.sourceFrom&&(t.$refs.showBeiyeMaterial.beforeLoad(),t.$refs.showBeiyeMaterial.getMaterialById(a.row.materialId))}}},"查看"),e("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px",backgroundColor:"#1fa2fd",borderColor:"#1fa2fd"},on:{click:function(){0===a.row.isNative?(t.$refs.updataNonative.beforeLoad(),t.$refs.updataNonative.getMaterialById(a.row.materialId)):0===a.row.sourceFrom?(t.$refs.updateFx168Material.beforeLoad(),t.$refs.updateFx168Material.getMaterialById(a.row.materialId)):1===a.row.sourceFrom&&(t.$refs.updateBeiyeMaterial.beforeLoad(),t.$refs.updateBeiyeMaterial.getMaterialById(a.row.materialId))}}},"修改"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",backgroundColor:"#ea0b00",borderColor:"#ea0b00"},on:{click:function(){var e=[];e.push(a.row),t.deleteBox(e)}}},"删除")])}}]),e},created:function(){this.initTableList(),this.getDeliverList()},methods:{selectData:function(e){console.log(e);var t=e.filter(function(e){return 1==e.materialStatus}),a=e.filter(function(e){return 0==e.materialStatus});console.log(a),this.isAdds=!a.length>0,this.addMateriaTempParams=a,this.isDeletes=!t.length>0,this.deleteMateriaTempParams=t},deleteBox:function(e){var t=this;console.log(e);var a=e.map(function(e,t){return e.materialTemplateName}),i=e.map(function(e,t){return e.materialId});this.$Modal.confirm({title:"删除广告物料",content:"你确定要删除"+a.join(","),onOk:function(){t.deleteMaterialData(i.join(",")),console.log(i.join(","))}})},getFilterData:function(e){this.isNative=e,this.pageSize=10,this.pageNo=1,this.initTableList()},getFilterData2:function(e){this.status=e,this.pageSize=10,this.pageNo=1,this.initTableList()},deleteMaterialData:function(e){var t=this,a="/material/deleteMaterial.json?materialId="+e;console.log(e),this.$Http.get(a,{}).then(function(e){console.log(e),t.$Message.info(e.body.data),t.initTableList()})},deleteAll:function(){this.deleteBox(this.deleteMateriaTempParams)},getDeliverList:function(){var e=this;this.deliverList=[];var t="/deliver/getDeliverList.json?nameLike=&isNative=&orderId=&codeGroupId=&codeId=&materialId=&startDate=&endDate=&status=&pageSize=10&pageNo="+this.deliverListPageNo;this.$Http.get(t,{}).then(function(t){console.log(t);var a=t.body.data.result;if(1==e.deliverListPageNo)e.deliverList=a;else for(var i=0;i<a.length;i++)e.deliverList.push(a[i]);e.deliverListTotalPages=t.body.data.totalPages})},loadMore:function(){if(this.deliverListPageNo==this.deliverListTotalPages)return this.textLoadMore="已到最底部",!1;this.deliverListPageNo++,this.getDeliverList()},newFx168Material:function(){this.modal3=!1,this.$refs.newFx168Material.beforeLoad()},newBeiyeAdMaterial:function(){this.modal3=!1,this.$refs.newBeiyeMaterial.beforeLoad()},newNativeMaterial:function(){this.modal2=!1,this.modal3=!0},newNoNativeMaterial:function(){this.modal2=!1,this.$refs.newNoNative.beforeLoad()},sx:function(){this.isShow=!this.isShow,this.isShow?this.sxIcon="chevron-up":this.sxIcon="chevron-down"},selectAdId:function(e){this.pageSize=10,this.pageNo=1,this.fxAdDeliverId=void 0==e?"":e,this.initTableList()},onSelect:function(e){this.pdLength(e.length),console.log(e),this.paramsObj=e,this.strSort(this.paramsObj),console.log(this.paramsObj)},cancelSelect:function(e){this.pdLength(e.length),this.paramsObj=e,this.strSort(this.paramsObj),console.log(this.paramsObj)},selectAll:function(e){},selectAllChange:function(e){this.pdLength(e.length),this.paramsObj=e,this.strSort(this.paramsObj),console.log(this.paramsObj)},pdLength:function(e){this.disabled=!(e>0)},strSort:function(e){for(var t="",a=0;a<e.length;a++)a==e.length-1?t+=e[a].materialId:t+=e[a].materialId+",",this.materialId=t,console.log(this.materialId)},search:function(){this.pageSize=10,this.pageNo=1,this.data=[],this.initTableList()},clickPage:function(e){console.log(e),this.loading=!0,this.pageNo=e,this.data=[],this.initTableList()},nativeBol:function(){this.modal2=!0},routeNative:function(){this.$router.push({name:"setNewadMaterial"})},routeNoNative:function(){this.$router.push({name:"setNewadMaterialNoNative"})},initTableList:function(){var e=this;this.isAdds=!0,this.isDeletes=!0;var t="/material/getMaterialList.json?nameLike="+encodeURIComponent(this.nameLike)+"&status="+this.status+"&pageSize="+this.pageSize+"&pageNo="+this.pageNo+"&fxAdDeliverId="+this.fxAdDeliverId+"&isNative="+this.isNative;this.$Http.get(t,{}).then(function(t){e.loading=!1,console.log(t);var a=t.body.data.result,i="";for(var o in e.totalCount=t.body.data.totalCount,console.log(e.totalCount),e.data=[],a)i={materialTemplateName:a[o].materialName,materialId:a[o].id,materialIdLook:a[o].materialIdLook,materialSize:""==a[o].size?"--":a[o].size,isNative:a[o].isNative,type:0==a[o].isNative?"非原生":"原生",materialStatus:a[o].materialStatus,adShowUrl:a[o].adShowUrl,sourceFrom:a[o].sourceFrom},e.data.push(i)})},deleteModal:function(e,t){var a=this;this.$Modal.confirm({title:"启用公司",content:"你确定要删除："+e,onOk:function(){a.deleteM(e,t)},onCancel:function(){this.$Message.info("已取消删除："+e)}})},deleteM:function(e,t){var a="/material/deleteMaterial.json?materialId="+e;console.log(e),this.$Http.get(a,{}).then(function(e){console.log(e)})},getAdList:function(){var e="/appConfig/getAppConfigList.json?nameLike=&codeId=&appType=&pageSize="+this.pageSize+"&pageNo="+this.pageNo;this.$Http.get(e,{}).then(function(e){console.log(e)})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("top-title",{attrs:{title:"物料管理"}}),e._v(" "),a("div",{staticClass:"fu"},[a("div",{staticClass:"topBtnWrap"},[a("div",[a("Button",{staticClass:"btnColor",attrs:{icon:"plus"},on:{click:e.nativeBol}},[e._v("新建广告物料")]),e._v(" "),a("Button",{staticClass:"btnCancel",attrs:{type:"error",disabled:e.isDeletes},on:{click:e.deleteAll}},[e._v("删除")]),e._v(" "),a("Button",{attrs:{type:"ghost",icon:e.sxIcon},on:{click:e.sx}},[e._v("筛选")])],1),e._v(" "),a("div",[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入广告物料名称"},model:{value:e.nameLike,callback:function(t){e.nameLike=t},expression:"nameLike"}}),e._v(" "),a("Button",{staticClass:"btnColor",attrs:{icon:"search"},on:{click:e.search}},[e._v("搜索")])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"master-content-middle",staticStyle:{"margin-top":"10px"}},[a("ul",[a("li",{staticClass:"master-content-middle-child"},[a("span",{staticClass:"label-left"},[e._v("载体类型：")]),e._v(" "),a("div",{staticClass:"main-element"},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.getFilterData},model:{value:e.isNative,callback:function(t){e.isNative=t},expression:"isNative"}},[a("el-option",{attrs:{value:-99,label:"全部"}}),e._v(" "),a("el-option",{attrs:{value:1,label:"原生"}}),e._v(" "),a("el-option",{attrs:{value:0,label:"非原生"}})],1)],1)]),e._v(" "),a("li",{staticClass:"master-content-middle-child"},[a("span",{staticClass:"label-left"},[e._v("广告：")]),e._v(" "),a("div",{staticClass:"main-element"},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectAdId},model:{value:e.adModel,callback:function(t){e.adModel=t},expression:"adModel"}},[a("el-option",{attrs:{value:-99,label:"全部"}}),e._v(" "),e._l(e.deliverList,function(e,t){return a("el-option",{key:t,attrs:{label:e.deliverName,value:e.fxAdDeliverId}})}),e._v(" "),a("Button",{attrs:{type:"text",long:""},on:{click:e.loadMore}},[e._v(e._s(e.textLoadMore))])],2)],1)]),e._v(" "),a("li",{staticClass:"master-content-middle-child"},[a("span",{staticClass:"label-left"},[e._v("物料状态：")]),e._v(" "),a("div",{staticClass:"main-element"},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:e.getFilterData2},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-option",{attrs:{value:-99,label:"全部"}}),e._v(" "),a("el-option",{attrs:{value:1,label:"启用"}}),e._v(" "),a("el-option",{attrs:{value:0,label:"删除"}})],1)],1)])])]),e._v(" "),a("div",{staticClass:"table-wrap"},[a("Table",{staticStyle:{"margin-top":"10px"},attrs:{loading:e.loading,columns:e.columns,data:e.data,border:""},on:{"on-selection-change":e.selectData}}),e._v(" "),a("Page",{attrs:{current:e.pageNo,total:e.totalCount,"show-total":""},on:{"on-change":e.clickPage}})],1),e._v(" "),a("Modal",{attrs:{width:"500","class-name":"vertical-center-modal"},model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("选择新建广告载体")])]),e._v(" "),a("div",{staticClass:"native-wrap",staticStyle:{"text-align":"center"}},[a("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:e.newNativeMaterial}},[e._v("原生")]),e._v(" "),a("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:e.newNoNativeMaterial}},[e._v("非原生")])],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),a("Modal",{attrs:{width:"500","class-name":"vertical-center-modal"},model:{value:e.modal3,callback:function(t){e.modal3=t},expression:"modal3"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("选择新建广告物料来源")])]),e._v(" "),a("div",{staticClass:"native-wrap",staticStyle:{"text-align":"center"}},[a("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:e.newFx168Material}},[e._v("FX168广告")]),e._v(" "),a("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:e.newBeiyeAdMaterial}},[e._v("倍页广告")])],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),a("new-fx168-material",{ref:"newFx168Material",on:{filterParent:e.initTableList}}),e._v(" "),a("update-fx168-material",{ref:"updateFx168Material",on:{filterParent:e.initTableList}}),e._v(" "),a("update-beiye-material",{ref:"updateBeiyeMaterial",on:{filterParent:e.initTableList}}),e._v(" "),a("new-NoNative",{ref:"newNoNative",on:{filterParent:e.initTableList}}),e._v(" "),a("show-fx168-material",{ref:"showFx168Material"}),e._v(" "),a("show-beiye-material",{ref:"showBeiyeMaterial"}),e._v(" "),a("updata-Nonative",{ref:"updataNonative",on:{filterParent:e.initTableList}}),e._v(" "),a("show-Nonative",{ref:"showNonative"}),e._v(" "),a("new-beiye-material",{ref:"newBeiyeMaterial",on:{filterParent:e.initTableList}})],1)],1)},staticRenderFns:[]};var g=a("vSla")(m,f,!1,function(e){a("556g")},null,null);t.default=g.exports}});
//# sourceMappingURL=12.861f3b3e8bb76cc0e2af.js.map