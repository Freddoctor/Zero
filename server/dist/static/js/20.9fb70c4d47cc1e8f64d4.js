webpackJsonp([20],{lZ06:function(t,e){},mOjd:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{orderName:"",contractNo:"",customId:"",isAtive:!1,isAtiveContractNo:!1,soltNameLen:"最多可输入50个字符",contractNLen:"最多可输入120个字符",customList:[],orderId:"",modal2:!1}},created:function(){this.getCustomData()},methods:{beforeLoad:function(){this.orderName="",this.contractNo="",this.orderId="",this.soltNameLen="最多可输入50个字符",this.isAtive=!1,this.contractNLen="最多可输入120个字符",this.isAtiveContractNo=!1,this.modal2=!0},cancel:function(){this.soltNameLen="最多可输入50个字符",this.isAtive=!1,this.contractNLen="最多可输入120个字符",this.isAtiveContractNo=!1,this.modal2=!1},getCustomData:function(){var t=this;this.$Http.get("/custom/getAllCustomList.json?status=1",{}).then(function(e){if(0==e.body.status){var o=e.body.data.customList;console.log(o),t.customList=o,console.log(t.customList)}})},getOrderData:function(t){var e=this;this.orderId=t;var o="/order/getOrderById.json?orderId="+this.orderId;this.$Http.get(o,{}).then(function(t){if(0==t.body.status){var o=t.body.data;console.log(o),e.orderName=o.orderName,e.contractNo=o.contractNo,e.customId=o.fxadCustomId,e.orderId=o.fxAdOrderId,e.modal2=!0}})},checkUpOrder:function(){return""===this.orderName?(this.$Message.error("订单名称不能为空"),!1):""===this.customId?(this.$Message.error("广告客户不能为空"),!1):""!==this.contractNo||(this.$Message.error("合同号不能为空"),!1)},ajaxUpOrder:function(){var t=this;if(this.userDataNum(),this.contracDataNum(),this.isAtiveContractNo||this.isAtive)return!1;var e="/order/updateOrder.json?orderName="+encodeURIComponent(this.orderName)+"&customId="+this.customId+"&contractNo="+encodeURIComponent(this.contractNo)+"&orderId="+this.orderId;this.$Http.get(e,{}).then(function(e){0==e.body.status?(t.modal2=!1,t.$emit("filterParent")):t.modal2=!1})},updateOrder:function(){this.checkUpOrder()&&this.ajaxUpOrder()},loadMore:function(){this.pageNo=this.pageNo+1,this.getCustomData()},onFocusName:function(){this.soltNameLen="最多可输入50个字符",this.isAtive=!1},userDataNum:function(){if(this.orderName){null==this.orderName.match(/^[\s\S]{1,50}$/)&&(this.soltNameLen="长度超过50个字符",this.isAtive=!0)}else this.soltNameLen="订单名称不能为空",this.isAtive=!0},onFocuscontrac:function(){this.contractNLen="最多可输入120个字符",this.isAtiveContractNo=!1},contracDataNum:function(){if(this.contractNo){null==this.contractNo.match(/^[\s\S]{1,120}$/)&&(this.contractNLen="长度超过120个字符",this.isAtiveContractNo=!0)}else this.contractNLen="合同号不能为空",this.isAtiveContractNo=!0}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Modal",{attrs:{title:"修改订单",styles:{width:"100%"},"class-name":"modal-box"},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[o("div",{staticClass:"master-content"},[o("div",{staticClass:"row"},[o("label",[t._v("订单名称:")]),t._v(" "),o("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"orderName",placeholder:""},on:{"on-blur":t.userDataNum,"on-focus":t.onFocusName},model:{value:t.orderName,callback:function(e){t.orderName=e},expression:"orderName"}}),t._v(" "),o("span",{staticClass:"label-right",class:{"label-right-active":t.isAtive}},[t._v(t._s(t.soltNameLen))])],1),t._v(" "),o("div",{staticClass:"row"},[o("label",[t._v("广告客户:")]),t._v(" "),o("div",{staticClass:"main-element"},[o("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.customId,callback:function(e){t.customId=e},expression:"customId"}},t._l(t.customList,function(t){return o("el-option",{key:t.fxAdCustomId,attrs:{label:t.customName,value:t.fxAdCustomId}})}))],1),t._v(" "),t._e()],2),t._v(" "),o("div",{staticClass:"row"},[o("label",[t._v("合同号:")]),t._v(" "),o("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"contractNo",placeholder:""},on:{"on-blur":t.contracDataNum,"on-focus":t.onFocuscontrac},model:{value:t.contractNo,callback:function(e){t.contractNo=e},expression:"contractNo"}}),t._v(" "),o("span",{staticClass:"label-right",class:{"label-right-active":t.isAtiveContractNo}},[t._v(t._s(t.contractNLen))])],1)]),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),o("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:t.updateOrder}},[t._v("保存并启用")])],1)])],1)},staticRenderFns:[]};var r=o("vSla")(s,a,!1,function(t){o("lZ06")},"data-v-2d82611f",null);e.default=r.exports}});
//# sourceMappingURL=20.9fb70c4d47cc1e8f64d4.js.map