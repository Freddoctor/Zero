webpackJsonp([17],{"6sm7":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Ldyx"),i=e("5YEj"),n=e.n(i),o={components:{topTitle:s.a},data:function(){return{day7Count:"",day30Count:"",yesterdayCount:"",startDay:"",endDay:"",dateRange:[],startDayValue:"",endDayValue:"",codeCount:"--",countDeliver:"--",pageSize:10,pageNo:1,isShowChart:!0,isDiv:!1,dataClickNum:[],dataShowNum:[],dataAdDateDay:[],myChart:"",chartArr:[],chartArrClick:[],chartColor:"#d6eaff",bolChart:!1,datesValue:[],optionsDisable:{}}},created:function(){this.getWillEndCodeCount(),this.getBasicReport()},mounted:function(){this.startDay=this.getPreDate(-8),this.endDay=this.getPreDate(-1),this.dateRange=[this.startDay,this.endDay],this.myChart=n.a.init(document.getElementById("main")),this.getOverallReportChart()},methods:{initEcharts:function(){var t={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",boundaryGap:!1,data:this.dataAdDateDay},yAxis:[{name:"展现量",type:"value"},{name:"点击量",type:"value"}],minInterval:1,color:["#044b7c","#ea1107"],series:[{name:"展现量",data:this.dataShowNum,type:"line",areaStyle:{color:"#d6eaff"},lineStyle:{color:"#044b7c"}},{name:"点击量",data:this.dataClickNum,yAxisIndex:1,type:"line",areaStyle:{color:"#ffd6e1"},lineStyle:{color:"#ea1107"}}]};this.myChart.setOption(t)},getPreDate:function(t){var a=new Date;return a.setDate(a.getDate()+t),a.Format("yyyy-MM-dd")},splitNum:function(t){var a=/(\d)(?=(?:\d{3})+$)/g,e=(t+"").split(".");return 2==e.length?e[0].replace(a,"$1,")+"."+e[1]:e[0].replace(a,"$1,")},getBasicReport:function(){var t=this;this.$Http.get("/report/getBasicReport.json?",{}).then(function(a){if(console.log(a.body),0==a.body.status){var e=a.body.data.result;t.yesterdayCount=t.splitNum(e.yesterdayCount),t.day7Count=t.splitNum(e.day7Count),t.day30Count=t.splitNum(e.day30Count)}})},getWillEndCodeCount:function(){var t=this;this.$Http.get("/common/getWillEndCodeCount.json?",{}).then(function(a){if(console.log(a.body),0==a.body.status){var e=a.body.data;t.codeCount=e.count,t.countDeliver=e.countDeliver}})},getOverallReportChart:function(){var t=this,a="/report/getOverallReportChart.json?startDay="+this.startDay+"&endDay="+this.endDay;this.$Http.get(a,{}).then(function(a){if(console.log(a),0==a.body.status){var e=a.body.data.result,s=[],i=[];t.dataAdDateDay=[],e.forEach(function(a,e){s.push(a.clickNum),i.push(a.showNum),t.dataAdDateDay.push(a.adDateDay)}),t.dataClickNum=s,t.dataShowNum=i,t.chartArr=t.dataShowNum,t.chartArrClick=t.dataClickNum,t.myChart.clear(),t.initEcharts()}})},initDataChart:function(){},startTime:function(t){if(t.length<2||""==t[0]||""==t[1])return this.$Message.error("请选择日期范围"),!1;this.startDay=t[0],this.endDay=t[1],this.pageNo=1,this.getOverallReportChart()},showNum:function(){},clickNum:function(){}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"topTitle-wrap"},[t._m(0),t._v(" "),e("div",{staticStyle:{"margin-right":"20px"}},[e("ul",{staticClass:"myDatePicker",attrs:{slot:"mySolt"},slot:"mySolt"},[e("li",{staticClass:"myDatePicker_li"},[e("span",[t._v("日期范围")]),t._v(" "),e("DatePicker",{staticStyle:{width:"200px"},attrs:{value:t.dateRange,type:"daterange",placeholder:"",placement:"bottom-end",clearable:!1,editable:!1},on:{"on-change":t.startTime}})],1)])])]),t._v(" "),e("div",{staticStyle:{"background-color":"#f7f7f7",padding:"10px",margin:"5px","font-size":"14px"}},[e("Row",[e("Col",{attrs:{span:"5"}},[e("Icon",{attrs:{type:"android-volume-up"}}),t._v(" "),e("router-link",{staticStyle:{"text-decoration":"underline"},attrs:{to:{name:"CodeManagement",params:{flag:1}}}},[t._v("\n          "+t._s(t.codeCount)+"\n        ")]),t._v(" "),e("span",[t._v("个代码位即将在3天内空闲")])],1),t._v(" "),e("Col",{attrs:{span:"5"}},[e("router-link",{staticStyle:{"text-decoration":"underline"},attrs:{to:{name:"advertisingManagement",params:{flag:1}}}},[t._v("\n          "+t._s(t.countDeliver)+"\n        ")]),t._v(" "),e("span",[t._v("个广告投放即将在3天内空闲")])],1)],1)],1),t._v(" "),e("div",{staticClass:"fu"},[e("div",[e("ul",{staticClass:"top-wrap"},[e("li",[e("p",[t._v("昨日广告展现量")]),t._v(" "),e("p",{staticClass:"count"},[t._v(t._s(t.yesterdayCount))])]),t._v(" "),e("li",[e("p",[t._v("过去7天广告展现量")]),t._v(" "),e("p",{staticClass:"count"},[t._v(t._s(t.day7Count))])]),t._v(" "),e("li",[e("p",[t._v("过去30天广告展现量")]),t._v(" "),e("p",{staticClass:"count"},[t._v(t._s(t.day30Count))])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowChart,expression:"isShowChart"}],attrs:{id:"main"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDiv,expression:"isDiv"}],staticClass:"noData",staticStyle:{"font-size":"22px"}},[e("span",[t._v("暂无数据")])]),t._v(" "),e("div",{staticClass:"ract-wrap"},[e("div",{on:{click:t.showNum}},[e("span",{staticClass:"showRact"}),t._v(" "),e("span",[t._v("展现量")])]),t._v(" "),e("div",{staticClass:"ract-wrap",on:{click:t.clickNum}},[e("span",{staticClass:"clickRact"}),t._v(" "),e("span",[t._v("点击量")])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"tpTitle"},[this._v("概况")])])}]};var l=e("vSla")(o,r,!1,function(t){e("E/sy")},"data-v-6d146d30",null);a.default=l.exports},"E/sy":function(t,a){}});
//# sourceMappingURL=17.d44155bfe33c94170952.js.map