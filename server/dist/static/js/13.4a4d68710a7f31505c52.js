webpackJsonp([13],{"G/4g":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("a3Yh"),s=a.n(i),o=a("Ldyx"),r=a("5YEj"),n=a.n(r),d={components:{topTitle:o.a},data:function(){var t,e=this;return t={adClickNum:"",adShowNum:"",adRate:"",startDay:"",endDay:"",dateRange:[],pageSize:10,pageNo:1,codePageSize:10,codePageNo:1,codeTotalPage:1,totalCount:0,dataClickNum:[],dataShowNum:[],dataAdDateDay:[],codeGroupId:"",searchName:"",codeGroupType:"",codeId:"",nameLike:"",modeType:1,isCode:!0,isCodeGroup:!1,isOder:!0,isAd:!1,isMaterial:!1},s()(t,"isCodeGroup",!1),s()(t,"modelGroup","全部"),s()(t,"textLoadMore","加载更多"),s()(t,"selectMode","订单报告"),s()(t,"myChart",""),s()(t,"codeGroupArr",[]),s()(t,"codeArr",""),s()(t,"hit","请输入订单名称"),s()(t,"getCodeList",[]),s()(t,"orderColumns",[{title:"订单名称",key:"showName"},{title:"订单ID",key:"showId"},{title:"展现量",key:"showNum",render:function(t,a){return t("span",e.splitNum(a.row.showNum))}},{title:"点击量",key:"clickNum",render:function(t,a){return t("span",e.splitNum(a.row.clickNum))}},{title:"点击率",key:"rate"}]),s()(t,"adColumns",[{title:"广告名称",key:"showName"},{title:"广告ID",key:"showId"},{title:"展现量",key:"showNum",render:function(t,a){return t("span",e.splitNum(a.row.showNum))}},{title:"点击量",key:"clickNum",render:function(t,a){return t("span",e.splitNum(a.row.clickNum))}},{title:"点击率",key:"rate"}]),s()(t,"materialColumns",[{title:"广告名称",key:"showName"},{title:"物料ID",key:"showId"},{title:"展现量",key:"showNum",render:function(t,a){return t("span",e.splitNum(a.row.showNum))}},{title:"点击量",key:"clickNum",render:function(t,a){return t("span",e.splitNum(a.row.clickNum))}},{title:"点击率",key:"rate"}]),s()(t,"adReportList",[]),t},created:function(){},mounted:function(){this.startDay=this.getPreDate(-7),this.endDay=this.getPreDate(-1),this.dateRange=[this.startDay,this.endDay],this.myChart=n.a.init(document.getElementById("main")),this.selectReport()},methods:{initEcharts:function(){var t={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},color:["#044b7c","#ea1107"],xAxis:{type:"category",boundaryGap:!1,data:this.dataAdDateDay},yAxis:[{name:"展现量",type:"value"},{name:"点击量",type:"value"}],minInterval:1,series:[{name:"展现量",data:this.dataShowNum,type:"line",areaStyle:{color:"#d6eaff"},lineStyle:{color:"#044b7c"}},{name:"点击量",data:this.dataClickNum,yAxisIndex:1,type:"line",areaStyle:{color:"#ffd6e1"},lineStyle:{color:"#ea1107"}}]};this.myChart.setOption(t)},splitNum:function(t){var e=/(\d)(?=(?:\d{3})+$)/g,a=(t+"").split(".");return 2==a.length?a[0].replace(e,"$1,")+"."+a[1]:a[0].replace(e,"$1,")},getOrderReportList:function(){var t=this,e="/report/getOrderReportList.json?startDay="+this.startDay+"&endDay="+this.endDay+"&pageSize="+this.pageSize+"&pageNo="+this.pageNo+"&nameLike="+encodeURIComponent(this.nameLike);this.$Http.get(e,{}).then(function(e){if(0==e.body.status){t.adReportList=[];var a=e.body.data.result;t.totalCount=e.body.data.totalCount,a.forEach(function(e,a){t.adReportList.push(e)})}})},getOrderReportChart:function(){var t=this,e="/report/getOrderReportChart.json?startDay="+this.startDay+"&endDay="+this.endDay+"&nameLike="+encodeURIComponent(this.nameLike);this.$Http.get(e,{}).then(function(e){if(0==e.body.status){t.dataAdDateDay=[],t.dataClickNum=[],t.dataShowNum=[];var a=[],i=[];e.body.data.result.forEach(function(e,s){a.push(e.clickNum),i.push(e.showNum),t.dataAdDateDay.push(e.adDateDay)}),t.dataClickNum=a,t.dataShowNum=i,t.myChart.clear(),t.initEcharts()}})},getDeliverReportList:function(){var t=this,e="/report/getDeliverReportList.json?startDay="+this.startDay+"&endDay="+this.endDay+"&pageSize="+this.pageSize+"&pageNo="+this.pageNo+"&nameLike="+encodeURIComponent(this.nameLike);this.$Http.get(e,{}).then(function(e){if(0==e.body.status){t.adReportList=[];var a=e.body.data.result;t.totalCount=e.body.data.totalCount,a.forEach(function(e,a){t.adReportList.push(e)})}})},getDeliverReportChart:function(){var t=this,e="/report/getDeliverReportChart.json?startDay="+this.startDay+"&endDay="+this.endDay+"&nameLike="+encodeURIComponent(this.nameLike);this.$Http.get(e,{}).then(function(e){if(0==e.body.status){t.dataAdDateDay=[],t.dataClickNum=[],t.dataShowNum=[];var a=[],i=[];e.body.data.result.forEach(function(e,s){a.push(e.clickNum),i.push(e.showNum),t.dataAdDateDay.push(e.adDateDay)}),t.dataClickNum=a,t.dataShowNum=i,t.myChart.clear(),t.initEcharts()}})},getMaterialReportList:function(){var t=this,e="/report/getMaterialReportList.json?startDay="+this.startDay+"&endDay="+this.endDay+"&pageSize="+this.pageSize+"&pageNo="+this.pageNo+"&nameLike="+encodeURIComponent(this.nameLike);this.$Http.get(e,{}).then(function(e){if(0==e.body.status){t.adReportList=[];var a=e.body.data.result;t.totalCount=e.body.data.totalCount,a.forEach(function(e,a){t.adReportList.push(e)})}})},getMaterialReportChart:function(){var t=this,e="/report/getMaterialReportChart.json?startDay="+this.startDay+"&endDay="+this.endDay+"&nameLike="+encodeURIComponent(this.nameLike);this.$Http.get(e,{}).then(function(e){if(0==e.body.status){t.dataAdDateDay=[],t.dataClickNum=[],t.dataShowNum=[];var a=[],i=[];e.body.data.result.forEach(function(e,s){a.push(e.clickNum),i.push(e.showNum),t.dataAdDateDay.push(e.adDateDay)}),t.dataClickNum=a,t.dataShowNum=i,t.myChart.clear(),t.initEcharts()}})},getPreDate:function(t){var e=new Date;return e.setDate(e.getDate()+t),e.Format("yyyy-MM-dd")},selectReport:function(){1==this.modeType?(this.getOrderReportList(),this.getOrderReportChart()):2==this.modeType?(this.getDeliverReportList(),this.getDeliverReportChart()):(this.getMaterialReportChart(),this.getMaterialReportList())},confrimDownLoad:function(){var t=sessionStorage.getItem("token"),e="?startDay="+this.startDay+"&endDay="+this.endDay+"&nameLike="+encodeURIComponent(this.nameLike)+"&t="+t;1==this.modeType?window.location.href=this.ApiUrl+"/report/downloadOrderReport.json"+e:2==this.modeType?window.location.href=this.ApiUrl+"/report/downloadDeliverReport.json"+e:window.location.href=this.ApiUrl+"/report/downloadMaterialReport.json"+e},selectReportList:function(){1==this.modeType?this.getOrderReportList():2==this.modeType?this.getDeliverReportList():this.getMaterialReportList()},changePageNo:function(t){this.pageNo=t,this.selectReportList()},changePageSize:function(t){this.pageNo=1,this.pageSize=t,this.selectReportList()},getFilterData:function(){console.log(this.nameLike),this.pageSize=10,this.pageNo=1,this.selectReport()},changeReport:function(t){console.log(t),"订单报告"==t?(this.modeType=1,this.isOder=!0,this.isAd=!1,this.isMaterial=!1,this.hit="请输入订单名称"):"广告报告"==t?(this.modeType=2,this.isOder=!1,this.isAd=!0,this.isMaterial=!1,this.hit="请输入广告名称"):(this.modeType=3,this.isOder=!1,this.isAd=!1,this.isMaterial=!0,this.hit="请输入物料名称"),console.log(this.modeType),this.nameLike="",this.codeGroupType="",this.codeId="",this.codeGroupId="",this.pageNo=1,this.selectReport()},startTime:function(t){if(t.length<2||""==t[0]||""==t[1])return this.$Message.error("请选择日期范围"),!1;this.startDay=t[0],this.endDay=t[1],this.pageNo=1,this.selectReport()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"topTitle-wrap"},[t._m(0),t._v(" "),a("div",{staticStyle:{"margin-right":"20px"}},[a("ul",{staticClass:"myDatePicker",attrs:{slot:"mySolt"},slot:"mySolt"},[a("li",{staticClass:"myDatePicker_li"},[a("span",[t._v("日期范围")]),t._v(" "),a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:t.dateRange,type:"daterange",placeholder:"",placement:"bottom-end",clearable:!1,editable:!1},on:{"on-change":t.startTime}})],1),t._v(" "),a("li",{staticClass:"myDatePicker_li"},[a("Button",{staticClass:"btnColor",attrs:{type:"primary",icon:"archive"},on:{click:t.confrimDownLoad}},[t._v("下载报告")])],1)])])]),t._v(" "),a("RadioGroup",{staticStyle:{margin:"20px"},attrs:{type:"button",size:"large"},on:{"on-change":t.changeReport},model:{value:t.selectMode,callback:function(e){t.selectMode=e},expression:"selectMode"}},[a("Radio",{attrs:{label:"订单报告"}}),t._v(" "),a("Radio",{attrs:{label:"广告报告"}}),t._v(" "),a("Radio",{attrs:{label:"物料报告"}})],1),t._v(" "),a("div",{staticClass:"reportContent"},[a("div",{attrs:{id:"main"}}),t._v(" "),t._m(1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isCode,expression:"isCode"}],staticClass:"searchReport"},[a("div",{staticStyle:{display:"flex",margin:"5px"}}),t._v(" "),a("div",{staticStyle:{"align-self":"center","margin-right":"10px",margin:"5px"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:t.hit},model:{value:t.nameLike,callback:function(e){t.nameLike=e},expression:"nameLike"}}),t._v(" "),a("Button",{staticClass:"btnColor",attrs:{type:"primary",icon:"search"},on:{click:t.getFilterData}},[t._v("搜索")])],1)]),t._v(" "),a("Table",{directives:[{name:"show",rawName:"v-show",value:t.isOder,expression:"isOder"}],attrs:{border:"",columns:t.orderColumns,data:t.adReportList}}),t._v(" "),a("Table",{directives:[{name:"show",rawName:"v-show",value:t.isAd,expression:"isAd"}],attrs:{border:"",columns:t.adColumns,data:t.adReportList}}),t._v(" "),a("Table",{directives:[{name:"show",rawName:"v-show",value:t.isMaterial,expression:"isMaterial"}],attrs:{border:"",columns:t.materialColumns,data:t.adReportList}}),t._v(" "),a("Page",{attrs:{total:t.totalCount,current:t.pageNo,"show-sizer":"","show-total":""},on:{"on-change":t.changePageNo,"on-page-size-change":t.changePageSize}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"tpTitle"},[this._v("投放报告")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ract-wrap"},[e("div",[e("span",{staticClass:"showRact"}),this._v(" "),e("span",[this._v("展现量")])]),this._v(" "),e("div",{staticClass:"ract-wrap"},[e("span",{staticClass:"clickRact"}),this._v(" "),e("span",[this._v("点击量")])])])}]};var h=a("vSla")(d,l,!1,function(t){a("kJed")},"data-v-e136dcde",null);e.default=h.exports},kJed:function(t,e){}});
//# sourceMappingURL=13.4a4d68710a7f31505c52.js.map