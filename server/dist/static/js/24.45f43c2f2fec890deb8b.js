webpackJsonp([24],{"5kHr":function(e,t){},GJpq:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{modal:!1,level:1,sysResourceName:"",parentId:"",btndRadio:1,soltNameLen:"最多可输入100个字符",soltNameLenUrl:"请输入URL",permissionUrl:"",isAtive:!1,isUrlAtive:!1,resourceLevel:[],ishow1:!0,ishow2:!1,ishow3:!1,resourceListFirst:[],resourceListSecond:[],model1:"",model2:""}},created:function(){this.getAdResourceLevel(),this.SelectGroupFirst(),this.SelectGroupSecond()},methods:{cancel:function(){this.level=1,this.parentId="",this.permissionUrl="",this.sysResourceName="",this.ishow2=!1,this.ishow3=!1,this.soltNameLenUrl="请输入URL",this.isUrlAtive=!1,this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.modal=!1},beforeLoad:function(){this.level=1,this.parentId="",this.permissionUrl="",this.sysResourceName="",this.ishow2=!1,this.ishow3=!1,this.soltNameLenUrl="请输入URL",this.isUrlAtive=!1,this.soltNameLen="最多可输入100个字符",this.isAtive=!1,this.modal=!0},onFocusName:function(){this.soltNameLen="最多可输入100个字符",this.isAtive=!1},userDataNum:function(){if(this.sysResourceName){null==this.sysResourceName.match(/^[\s\S]{1,100}$/)&&(this.soltNameLen="权限角色名长度超过一百个字符",this.isAtive=!0)}else this.soltNameLen="权限角色名不能为空",this.isAtive=!0},getAdResourceLevel:function(){var e=this;this.$Http.post("/common/getAdResourceLevelMap.json?level=2",{}).then(function(t){console.log(t),e.resourceLevel=t.body.data.list})},urlBlur:function(){""==this.permissionUrl?(this.soltNameLenUrl="URL不能为空",this.isUrlAtive=!0):(this.soltNameLenUrl="请输入URL",this.isUrlAtive=!1)},clickRadio:function(e){console.log(e),this.level=e,1===e?(this.ishow1=!0,this.ishow2=!1,this.ishow3=!1):2===e?(this.ishow1=!1,this.ishow2=!0,this.ishow3=!1):3===e&&(this.ishow1=!1,this.ishow2=!1,this.ishow3=!0)},SelectGroupFirst:function(){var e=this;this.$Http.get("/common/getResourceListByLevel.json?level=1&parentId",{}).then(function(t){console.log(t.body.data.resourceList),e.resourceListFirst=t.body.data.resourceList})},SelectGroupSecond:function(){var e=this;this.$Http.get("/common/getResourceList.json?level=2&nameLike=",{}).then(function(t){console.log(t.body.data.resourceList),e.resourceListSecond=t.body.data.resourceList})},createSysResource:function(){var e=this;if(""==this.permissionUrl)return this.isUrlAtive=!0,!1;var t="/user/createSysResource.json?level="+this.level+"&permissionUrl="+this.permissionUrl+"&sysResourceName="+encodeURIComponent(this.sysResourceName)+"&parentId="+this.parentId;this.$Http.get(t,{}).then(function(t){0===t.body.status&&(e.modal=!1,e.SelectGroupFirst(),e.SelectGroupSecond(),e.$emit("filterParent"))})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-wrap"},[s("Modal",{staticStyle:{"{width":"100%}"},attrs:{title:"新建权限功能","class-name":"modal-box"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[s("div",{staticClass:"fu"},[s("div",{staticClass:"RadioGroup-wrap"},[s("span",{staticClass:"label-left"},[e._v("级别类型")]),e._v(" "),e._l(e.resourceLevel,function(t,i){return s("RadioGroup",{key:i,on:{"on-change":e.clickRadio},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},[s("Radio",{attrs:{label:t.id,value:t.id}},[e._v(e._s(t.name))])],1)})],2),e._v(" "),s("ul",{staticClass:"content-page"},[s("li",{directives:[{name:"show",rawName:"v-show",value:e.ishow2,expression:"ishow2"}]},[s("div",{staticClass:"content-input"},[s("span",{staticClass:"label-left"},[e._v("所属一级分类：")]),e._v(" "),s("Select",{staticStyle:{width:"200px"},model:{value:e.parentId,callback:function(t){e.parentId=t},expression:"parentId"}},e._l(e.resourceListFirst,function(t,i){return s("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1)]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.ishow3,expression:"ishow3"}]},[s("div",{staticClass:"content-input"},[s("span",{staticClass:"label-left"},[e._v("所属二级分类：")]),e._v(" "),s("Select",{staticStyle:{width:"200px"},model:{value:e.parentId,callback:function(t){e.parentId=t},expression:"parentId"}},e._l(e.resourceListSecond,function(t,i){return s("OptionGroup",{key:i,attrs:{label:t.name}},e._l(t.childList,function(t){return s("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name)+"\n                ")])}))}))],1)]),e._v(" "),s("div",{staticClass:"content-input"},[s("span",{staticClass:"label-left"},[e._v("权限功能名称：")]),e._v(" "),s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入权限功能名称"},on:{"on-blur":e.userDataNum,"on-focus":e.onFocusName},model:{value:e.sysResourceName,callback:function(t){e.sysResourceName=t},expression:"sysResourceName"}}),e._v(" "),s("span",{staticClass:"label-right",class:{"label-right-active":e.isAtive}},[e._v(e._s(e.soltNameLen))])],1),e._v(" "),s("div",{staticClass:"content-input"},[s("span",{staticClass:"label-left"},[e._v("URL：")]),e._v(" "),s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入地址"},on:{"on-blur":e.urlBlur},model:{value:e.permissionUrl,callback:function(t){e.permissionUrl=t},expression:"permissionUrl"}}),e._v(" "),s("span",{staticClass:"label-right",class:{"label-right-active":e.isUrlAtive}},[e._v(e._s(e.soltNameLenUrl))])],1)])]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{staticStyle:{"margin-right":"20px"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),s("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:e.createSysResource}},[e._v("新建")])],1)])],1)},staticRenderFns:[]};var l=s("vSla")(i,o,!1,function(e){s("5kHr")},"data-v-13c0a3aa",null);t.default=l.exports}});
//# sourceMappingURL=24.45f43c2f2fec890deb8b.js.map