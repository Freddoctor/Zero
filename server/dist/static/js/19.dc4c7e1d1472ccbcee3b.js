webpackJsonp([19],{UGi4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){return{isAtive:!1,isAtiveContractNo:!1,orderName:"",contractNo:"",customId:"",soltNameLen:"最多可输入50个字符",contractNLen:"最多可输入120个字符",customList:[],modal:!1}},created:function(){this.getCustomData()},methods:{getCustomData:function(){var t=this;this.$Http.get("/custom/getAllCustomList.json?status=1",{}).then(function(e){if(0==e.body.status){var s=e.body.data.customList;t.customList=s}})},beforeLoad:function(){this.orderName="",this.contractNo="",this.customId="",this.soltNameLen="最多可输入50个字符",this.isAtive=!1,this.contractNLen="最多可输入120个字符",this.isAtiveContractNo=!1,this.modal=!0},cancel:function(){this.soltNameLen="最多可输入50个字符",this.isAtive=!1,this.contractNLen="最多可输入120个字符",this.isAtiveContractNo=!1,this.modal=!1},onFocusName:function(){this.soltNameLen="最多可输入50个字符",this.isAtive=!1},userDataNum:function(){if(this.orderName){null==this.orderName.match(/^[\s\S]{1,50}$/)&&(this.soltNameLen="长度超过50个字符",this.isAtive=!0)}else this.soltNameLen="订单名称不能为空",this.isAtive=!0},onFocuscontrac:function(){this.contractNLen="最多可输入120个字符",this.isAtiveContractNo=!1},contracDataNum:function(){if(this.contractNo){null==this.contractNo.match(/^[\s\S]{1,120}$/)&&(this.contractNLen="长度超过120个字符",this.isAtiveContractNo=!0)}else this.contractNLen="合同号不能为空",this.isAtiveContractNo=!0},checkOrder:function(){return""===this.orderName?(this.$Message.error("订单名称不能为空"),!1):""===this.customId?(this.$Message.error("广告客户不能为空"),!1):""!==this.contractNo||(this.$Message.error("合同号不能为空"),!1)},ajaxOrder:function(){var t=this;if(this.userDataNum(),this.contracDataNum(),this.isAtiveContractNo||this.isAtive)return!1;var e="/order/createOrder.json?orderName="+encodeURIComponent(this.orderName)+"&customId="+this.customId+"&contractNo="+encodeURIComponent(this.contractNo);this.$Http.get(e,{}).then(function(e){0==e.body.status&&(t.modal=!1,t.$emit("filterParent"))})},createNewOrder:function(){this.checkOrder()&&this.ajaxOrder()}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Modal",{attrs:{title:"新建订单",styles:{width:"100%"},"class-name":"modal-box"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[s("div",{staticClass:"master-content"},[s("div",{staticClass:"row"},[s("label",[t._v("订单名称:")]),t._v(" "),s("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"orderName",placeholder:""},on:{"on-blur":t.userDataNum,"on-focus":t.onFocusName},model:{value:t.orderName,callback:function(e){t.orderName=e},expression:"orderName"}}),t._v(" "),s("span",{staticClass:"label-right",class:{"label-right-active":t.isAtive}},[t._v(t._s(t.soltNameLen))])],1),t._v(" "),s("div",{staticClass:"row"},[s("label",[t._v("广告客户:")]),t._v(" "),t._e(),t._v(" "),s("div",{staticClass:"main-element"},[s("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.customId,callback:function(e){t.customId=e},expression:"customId"}},t._l(t.customList,function(t){return s("el-option",{key:t.fxAdCustomId,attrs:{label:t.customName,value:t.fxAdCustomId}})}))],1)],2),t._v(" "),s("div",{staticClass:"row"},[s("label",[t._v("合同号:")]),t._v(" "),s("Input",{staticStyle:{width:"300px"},attrs:{type:"text",name:"contractNo",placeholder:""},on:{"on-blur":t.contracDataNum,"on-focus":t.onFocuscontrac},model:{value:t.contractNo,callback:function(e){t.contractNo=e},expression:"contractNo"}}),t._v(" "),s("span",{staticClass:"label-right",class:{"label-right-active":t.isAtiveContractNo}},[t._v(t._s(t.contractNLen))])],1)]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),s("Button",{staticClass:"btnColor",attrs:{type:"primary"},on:{click:t.createNewOrder}},[t._v("新建订单")])],1)])],1)},staticRenderFns:[]};var i=s("vSla")(o,a,!1,function(t){s("zxuE")},"data-v-33cbc4b8",null);e.default=i.exports},zxuE:function(t,e){}});
//# sourceMappingURL=19.dc4c7e1d1472ccbcee3b.js.map